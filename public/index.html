<!DOCTYPE html>
<html>
  <!-- For www.waveformer.net <script type="text/javascript" src="../common.js"></script> -->
  <head>
    <meta charset="UTF-8">
    <title>Zoom Explorer by Waveformer</title>
    <link href="https://fonts.googleapis.com/css?family=Alata|Dosis|Didact|Roboto&display=swap" rel="stylesheet"/>    
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:ital,wght@0,100..700;1,100..700&family=Roboto:wght@100&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" rel="stylesheet" />
    <!-- For www.waveformer.net <link rel="stylesheet" type="text/css" href="../common.css"/> -->
    <!-- For www.waveformer.net <link rel="stylesheet" type="text/css" href="../navbar.css"/>  -->
    <style>
      body {
          font-family: 'Roboto', sans-serif;
          font-size: 0.9em;
      }
      h1 
      {
          text-align: center;
          margin: 5px 2px 0px 2px;
      }
      div.source {
          text-align: right;
          margin: 0px 4px 4px 2px;
      }
      table#midiDevicesTable {
          float:left;
      }
      table#midiDevicesTable {
          border: 1px solid black;
          border-collapse: collapse;
          text-align: center;
          vertical-align: middle;
          table-layout: fixed;
          margin: 2px 4px 8px 4px;
      } 
      table#midiDevicesTable tr {
          border: 1px solid black;
          border-collapse: collapse;
      } 
      table#midiDevicesTable td, table#midiDevicesTable th {
          border: 1px solid black;
          border-collapse: collapse;
          padding: 1px 4px 1px 4px;
      } 
      table#midiDevicesTable td {
          text-align: left;
      }


      table#midiMonitorTable {
          float:right;
      }
      table#midiMonitorTable {
          border: 1px solid black;
          border-collapse: collapse;
          text-align: center;
          vertical-align: middle;
          table-layout: fixed;
          margin: 2px 4px 8px 4px
      } 
      table#midiMonitorTable tr {
          border: 1px solid black;
          border-collapse: collapse;
      } 
      table#midiMonitorTable td, table#midiMonitorTable th {
          border: 1px solid black;
          border-collapse: collapse;
          white-space: nowrap;
          padding: 1px 4px 1px 4px;
      } 
      table#midiMonitorTable td {
          text-align: left;
      }


      table#sysexMonitorTable {
          float:left;
      }
      table#sysexMonitorTable {
          border: 1px solid black;
          border-collapse: collapse;
          text-align: left;
          vertical-align: middle;
          table-layout: fixed;
          margin: 4px 2px 2px 4px
      } 
      table#sysexMonitorTable tr {
          border: 1px solid black;
          border-collapse: collapse;
      } 
      table#sysexMonitorTable th {
          border: 1px solid black;
          border-collapse: collapse;
          white-space: nowrap;
          padding: 1px 4px 1px 4px;
      } 

      table#sysexMonitorTable td {
          border: 1px solid black;
          border-collapse: collapse;
          word-wrap: break-word;
          padding: 1px 4px 1px 4px;
          text-align: left;
          font-family: 'Roboto Mono', monospace;
      } 

      table#sysexMonitorTable td#value {
          background-image: linear-gradient(to right, rgb(240, 240, 240) 0%, rgb(180, 180, 180) 100%);
          background-repeat: no-repeat; 
      }

      table#sysexMonitorTable td#time {
          background-image: linear-gradient(to right, rgb(255, 255, 255) 0%, rgb(255, 255, 255) 45%, rgb(180, 180, 180) 50%, rgb(255, 255, 255) 55%, rgb(255, 255, 255) 100%);
          background-repeat: no-repeat; 
      }

      table#patchTable {
          border: 1px solid black;
          border-collapse: collapse;
          text-align: center;
          vertical-align: middle;
          table-layout: fixed;
          margin: 2px 4px 8px 4px;
      } 
      table#patchTable tr {
          border: 1px solid black;
          border-collapse: collapse;
      } 
      table#patchTable td, table#patchTable th {
          border: 1px solid black;
          border-collapse: collapse;
          font-family: 'Roboto Mono', monospace;
          white-space:pre;
          padding: 1px 4px 1px 4px;
      } 
      table#patchTable th {
          text-align: left;
      }
      table#patchTable td {
          text-align: left;
      }

      table#patchesTable {
          border: 1px solid black;
          border-collapse: collapse;
          text-align: center;
          vertical-align: middle;
          table-layout: fixed;
          margin: 2px 4px 8px 4px;
      } 
      table#patchesTable tr {
          border: 1px solid black;
          border-collapse: collapse;
      } 
      table#patchesTable td, table#patchesTable th {
          border: 1px solid black;
          border-collapse: collapse;
          padding: 1px 4px 1px 4px;
      } 
      table#patchesTable td {
          text-align: left;
      }
      table#patchesTable td.highlight {
        background: lightslategray;
      }

      table.editPatchTable {
          border: 1px solid black;
          border-collapse: collapse;
          text-align: center;
          vertical-align: middle;
          table-layout: fixed;
          margin-top: 1em;
      } 
      table.editPatchTable tr {
          border: 1px solid black;
          border-collapse: collapse;
      } 
      table.editPatchTable td, table.editPatchTable th {
          border-collapse: collapse;
          padding: 1px 0px 1px px;
      } 
      table.editPatchTable th {
          text-align: left;
      }
      table.editPatchTable th.editPatchTableButtons {
          padding-left: 5px;
          text-align: right;
      }
      table.editPatchTable th.editPatchTableNumber {
          padding-left: 8px;
          font-size: 1.5em;
          width: 1px;
          white-space: nowrap;
      }
      table.editPatchTable th.editPatchTableName {
          padding-left: 4px;
          padding-right: 10px;
          font-size: 1.5em;
      }
      table.editPatchTable th.editPatchTableTempoLabel {
          padding-left: 1px;
          padding-right: 4px;
          font-size: 1.0em;
          padding-top: 6px;
          vertical-align: middle;
          width: 1px;
          white-space: nowrap;
      }
      table.editPatchTable th.editPatchTableTempoValue {
          padding-left: 8px;
          padding-right: 2px;
          font-size: 1.5em;
          width: 1px;
          white-space: nowrap;
      }
      table.editPatchTable th.editPatchTableDescription {
          padding-left: 8px;
      }
      table.editPatchTable th.editPatchTableDescription:empty::after {
          content: "\00a0"; /* Prevent collapse of empty row. See https://stackoverflow.com/questions/42225196/prevent-collapse-of-empty-rows-in-html-table-via-css */
      }
      table.editPatchTable td {
          vertical-align: top;
      }

      table.editEffectTable {
          border: 1px solid black;
          border-radius: 6px;
          border-spacing: 0px;
          border-collapse: separate;
          text-align: center;
          vertical-align: middle;
          table-layout: fixed;
          margin: 2px 4px 4px 4px;
      } 
      table.editEffectTable tr {
          border: 0px solid black;
          border-collapse: collapse;
      } 
      table.editEffectTable td, table.editEffectTable th {
          border: 1px solid darkgray;
          border-collapse: collapse;
          font-size: 1em;
          white-space:pre;
          padding: 1px 4px 1px 4px;
      } 
      table.editEffectTable th {
          text-align: center;
          line-height: 0.1em;
      }
      .editEffectTableTopBar {
          display:flex;
          flex-direction: column;
          line-height: 1.3em;
          padding: 0;
          margin: 0em ;
          white-space:nowrap;
      }
      .editEffectTableButtons {
          display:flex;
          flex-direction: row;
          align-items: center;
          justify-content: space-between;
          padding-top: 3px;
          margin: 0em;
          white-space:nowrap;
      }
      table.editEffectTable .editEffectTableEffectName {
          margin-left: auto;
          margin-right: auto;
          margin-top: auto;
          margin-bottom: auto;
          padding-left: 3px;
          padding-right: 3px;
      }
      table.editEffectTable td {
          text-align: center;
      }
      table.editEffectTable td {
        /* background-image: linear-gradient(to right, rgb(240, 240, 240) 0%, rgb(180, 180, 180) 100%); */
        background-repeat: no-repeat; 
        background-size: 0%;
      }
      table.editEffectTable td.unmapped {
        background: #FFCCCC;
        outline: 2px solid orangered;
        background-image:none !important;
      }
      table.editEffectTable td.changed {
        background: #CCFFCC;
        outline: 2px solid greenyellow;
        background-image:none !important;
      }

      table.editEffectOff {
          color: darkgray;
      }
      table.editEffectSlot {
          border: 2px solid black;
      }
      /* rounded corners on effect tables */
      table.editEffectTable th:first-of-type {
          border-top-left-radius: 6px;
      }
      table.editEffectTable th:last-of-type {
          border-top-right-radius: 6px;
      }
      table.editEffectTable tr:last-of-type td:first-of-type {
          border-bottom-left-radius: 6px;
      }
      table.editEffectTable tr:last-of-type td:last-of-type {
          border-bottom-right-radius: 6px;
      }

      table.editEffectTable .effectOnOffButton {
          float: left;
          font-size: 1.2em;
          font-variation-settings:
          'FILL' 0,
          'wght' 450,
          'GRAD' 0,
          'opsz' 24;
          color: black;
          padding: 1px;
          margin: 0px 1px 0px 1px;
          border: 0;
          background: transparent;
          border-radius: 2em;
      }
      table.editEffectTable .effectOnOffButton.on {
          opacity: 0.7;
      }
      table.editEffectTable .effectOnOffButton:hover {
          background-color: #DDDDDD;
      }
      table.editEffectTable .effectOnOffButton:active {
          background-color: #EEEEEE;
      }

      table.editEffectTable .effectActionButton {
        float: right;
        font-size: 1.2em;
        font-variation-settings:
        'FILL' 0,
        'wght' 450,
        'GRAD' 0,
        'opsz' 24;
        color: black;
        padding: 1px;
        margin: 0px 1px 0px 1px;
        border: 1px solid #333333;
        border-radius: 3px;
        background-color: #EEEEEEAA;
      }
      table.editEffectTable .effectActionButton:hover:enabled {
          background-color: #DDDDDD;
      }
      table.editEffectTable .effectActionButton:active:enabled {
          background-color: #EEEEEE;
      }
      table.editEffectTable .effectActionButton:disabled {
          opacity: 0.3;
      }
      .sendSysexButton {
        float: right;
        padding: 1px 4px 1px 4px;
      }

      .sysexASCIICheckbox {
        float: right;
        padding: 1px 4px 1px 4px;
      }
      .sysexEightBitCheckbox {
        float: right;
        padding: 1px 4px 1px 4px;
      }
      .sysexEightBitOffset {
        float: right;
        padding: 1px 4px 1px 4px;
        text-align: right;
      }

      button.loadSaveButtons {
        float: right;
        padding: 1px 2px 1px 2px;
      }

      .effectSelectorContainer {
        width:fit-content;
        border: 1px solid black;
        border-radius: 4px;
        display: flex;
        flex-direction: column;
        padding: 4px 8px 0px 0px;
        margin-left: auto;
        margin-right: auto;
      }
      .effectSelectorTitle {
        margin: 2px 4px 10px 8px;
        font-size: 1.3em;
        text-align: center;
      }
      .effectSelectorCategoryList {
        --num-columns: 2;
        --num-rows: 2;
        flex-grow: 1;
        flex-basis: 23%;
        margin: 5px 0px 5px 5px;
        display: grid;
        grid-template-columns: 0.1fr 1fr;
        grid-template-rows: repeat(3, auto);
        /* grid-template-rows: repeat(var(--has-header), auto) repeat(var(--num-rows), 1fr); */
        gap: 1px;
      }
      .effectSelectorPedalTitle {
        margin: 0px 8px 14px 4px;
        padding: 2px 4px 2px 4px;
        font-size: 1.3em;
      }
      .effectSelectorPedal {
        background-color: #EEEEEE;
        padding: 1px 6px 1px 6px;
        margin-bottom: 9px;
        align-content: center;
      }
      .effectSelectorPedal:hover {
        outline: 3px solid lightgray;
      }
      .effectSelectorPedalSelected {
        outline: 3px solid orange;
        background-color: #CCCCCC;
      }
      .effectSelectorPedalSelected:hover {
        outline: 3px solid orange;
      }
      .effectSelectorCategoryName {
        margin: 0px 8px 6px 4px;
        padding: 2px 4px 2px 4px;
        font-size: 1.3em;
      }
      .effectSelectorList {
        --num-columns: 10;
        --num-rows: 2;
        --has-header: 0;
        flex-grow: 1;
        flex-basis: 23%;
        margin: 0px 0px 6px 0px;
        padding: 0px 0px 0px 0px;
        /* outline: 2px solid orange; */
        display: grid;
        grid-template-columns: repeat(var(--num-columns), 1fr);
        /* grid-template-rows: repeat(3, auto); */
        grid-template-rows: repeat(var(--has-header), auto) repeat(var(--num-rows), 1fr);
        gap: 3px;
      }
      .effectSelectorEffect {
        background-color: #EEEEEE;
        padding: 1px 6px 1px 6px;
        align-content: center;
      }
      .effectSelectorEffect:hover {
        outline: 2px solid lightgray;
      }
      .effectSelectorEffectSelected {
        outline: 2px solid black;        
      }
      .effectSelectorEffectSelected:hover {
        outline: 2px solid black;
      }
      .effectSelectorButtons {
        margin-top: 12px;
        text-align: center;
      }

    </style>
  </head>
  <body>
    <!-- For www.waveformer.net <div w3-include-html="../navbar.html"></div> -->
    <h1>Zoom Explorer by Waveformer</h1>
    <div class="source"><a href="https://github.com/thammer/zoom-explorer">Source code on github</a></div>

    <div id="content">
      <table id="midiDevicesTable">
        <tr>
            <th>Zoom device</th>
            <th>ID</th>
            <th>OS</th>
            <th>Input</th>
            <th>Output</th>
            <th>Identity Response</th>
        </tr>
      </table>
      
      <button id="downloadPatchesButton">Download all patches</button>
      <button id="mapEffectsButton">Map all effects</button>
      <button id="testButton">Test</button>

      <div>
        <table id="midiMonitorTable">
          <tr>
            <th>#</th>
            <th>Device</th>
            <th>Stat</th>
            <th>D1</th>
            <th>D2</th>
            <th>Type</th>
            <th>Length</th>
          </tr>
        </table>

            <br/>
            <br/>

        <table id="patchTable">
          <tr>
            <th>
            </th>
          </tr>
          <tr>
            <td>Patch info</td>
          </tr>
        </table>

        <div id="patchEditors">    
          <table id="editPatchTableID" class="editPatchTable">
            <tr>
              <th class="editPatchTableNumber">Patch 00:</th>
              <th class="editPatchTableName" id="editPatchTableNameID">Patch Name</th>
              <th class="editPatchTableTempoValue" id="editPatchTableTempoValueID">42</th>
              <th class="editPatchTableTempoLabel">BPM</th>
            </tr>
            <tr>
              <th colspan="4" class="editPatchTableDescription" id="editPatchTableDescriptionID"></th>
            </tr>
            <tr>
              <td colspan="4">
                <table>
                  <tr>

                    <td>
                      <table class="editEffectTable editEffectSlot">
                        <tr>
                          <th colspan="4">
                              <div class="editEffectTableTopBar">
                                  <span class="editEffectTableEffectNameContainer">
                                      <button class="material-symbols-outlined effectOnOffButton">radio_button_unchecked</button>
                                      <span class="editEffectTableEffectName">LPF</span>
                                      <button class="material-symbols-outlined effectActionButton">data_table</button>
                                  </span>
                                  <span class="editEffectTableButtons">
                                      <button class="material-symbols-outlined effectActionButton">add_circle</button>
                                      <button class="material-symbols-outlined effectActionButton">arrow_back_2</button>
                                      <button class="material-symbols-outlined effectActionButton">delete</button>
                                      <button class="material-symbols-outlined effectActionButton">play_arrow</button>
                                      <button class="material-symbols-outlined effectActionButton">add_circle</button>
                                  </span>
                              </div>
                          </th>
                        </tr>
                        <tr>
                          <td>FREQ</td><td>Sense</td><td>Reso</td><td>Bal</td>
                        </tr>
                        <tr>
                          <td>74</td>
                          <td>SLW24</td>
                          <td>2P-4</td>
                          <td>88</td>
                        </tr>
                        <tr>
                          <td>FREQ</td><td>Sense</td><td>Reso</td>
                        </tr>
                        <tr>
                          <td>74</td>
                          <td>SLW24</td>
                          <td>2P-4</td>
                        </tr>
                      </table>
                    </td>
                    <td>
                      <table class="editEffectTable editEffectOff">
                        <tr>
                            <th colspan="4">Low-pass Filter</th>
                        </tr>
                        <tr>
                          <td>FREQ</td><td>Sense</td><td>Reso</td><td>Bal</td>
                        </tr>
                        <tr>
                          <td>74</td>
                          <td>SLW24</td>
                          <td>2P-4</td>
                          <td>88</td>
                        </tr>
                        <tr>
                          <td>FREQ</td><td>Sense</td>
                        </tr>
                        <tr>
                          <td>74</td>
                          <td>SLW24</td>
                        </tr>
                      </table>
                    </td>

                  </tr>
                </table>
              </td>
            </tr>
          </table>
        </div>
            
      <table id="patchesTable">
        <tr>
            <th>#</th>
            <th>Name</th>
            <th>#</th>
            <th>Name</th>
            <th>#</th>
            <th>Name</th>
            <th>#</th>
            <th>Name</th>
            <th>#</th>
            <th>Name</th>
        </tr>
      </table>

      <div id="effectSelectors">

      <div class="effectSelectorContainer">
        <div class="effectSelectorTitle">Pedal: MS-70CDR+</div>
        <div class="effectSelectorCategoryList">
          
            <div class="effectSelectorCategoryName" style="background-color: aqua;">Delay</div>
            <div class="effectSelectorList">
              <div class="effectSelectorEffect" style="background-color: aqua;">DualDelay</div>
              <div class="effectSelectorEffect">DualDelay</div>
              <div class="effectSelectorEffect">DualDelay</div>
              <div class="effectSelectorEffect">DualDelay</div>
              <div class="effectSelectorEffect">DualDelay</div>
              <div class="effectSelectorEffect">DualDelay</div>
              <div class="effectSelectorEffect">DualDelay</div>
              <div class="effectSelectorEffect">DualDelay</div>
              <div class="effectSelectorEffect">DualDelay</div>
              <div class="effectSelectorEffect">DualDelay</div>
              <div class="effectSelectorEffect">DualDelay</div>
              <div class="effectSelectorEffect">DualDelay</div>
              <div class="effectSelectorEffect">DualDelay</div>
              <div class="effectSelectorEffect">DualDelay</div>
              <div class="effectSelectorEffect">DualDelay</div>
              <div class="effectSelectorEffect">DualDelay</div>
              <div class="effectSelectorEffect">DualDelay</div>
              <div class="effectSelectorEffect">DualDelay</div>
              <div class="effectSelectorEffect">DualDelay</div>
              <div class="effectSelectorEffect">DualDelay</div>
              <div class="effectSelectorEffect">DualDelay</div>
              <div class="effectSelectorEffect">DualDelay</div>
              <div class="effectSelectorEffect">DualDelay</div>
              <div class="effectSelectorEffect">DualDelay</div>
            </div>

            <div class="effectSelectorCategoryName">Reverb</div>
            <div class="effectSelectorList">
              <div class="effectSelectorEffect">HD Hall</div>
              <div class="effectSelectorEffect">HD Hall</div>
              <div class="effectSelectorEffect">HD Hall</div>
              <div class="effectSelectorEffect">HD Hall</div>
              <div class="effectSelectorEffect">HD Hall</div>
              <div class="effectSelectorEffect">HD Hall</div>
              <div class="effectSelectorEffect">HD Hall</div>
              <div class="effectSelectorEffect">HD Hall</div>
              <div class="effectSelectorEffect">HD Hall</div>
              <div class="effectSelectorEffect">HD Hall</div>
              <div class="effectSelectorEffect">HD Hall</div>
              <div class="effectSelectorEffect">HD Hall</div>
            </div>

            <div class="effectSelectorCategoryName">Delay</div>
            <div class="effectSelectorList">
              <div class="effectSelectorEffect">DualDelay</div>
              <div class="effectSelectorEffect">DualDelay</div>
              <div class="effectSelectorEffect">DualDelay</div>
              <div class="effectSelectorEffect">DualDelay</div>
              <div class="effectSelectorEffect">DualDelay</div>
              <div class="effectSelectorEffect">DualDelay</div>
              <div class="effectSelectorEffect">DualDelay</div>
              <div class="effectSelectorEffect">DualDelay</div>
              <div class="effectSelectorEffect">DualDelay</div>
              <div class="effectSelectorEffect">DualDelay</div>
              <div class="effectSelectorEffect">DualDelay</div>
              <div class="effectSelectorEffect">DualDelay</div>
              <div class="effectSelectorEffect">DualDelay</div>
              <div class="effectSelectorEffect">DualDelay</div>
              <div class="effectSelectorEffect">DualDelay</div>
              <div class="effectSelectorEffect">DualDelay</div>
              <div class="effectSelectorEffect">DualDelay</div>
              <div class="effectSelectorEffect">DualDelay</div>
              <div class="effectSelectorEffect">DualDelay</div>
              <div class="effectSelectorEffect">DualDelay</div>
              <div class="effectSelectorEffect">DualDelay</div>
              <div class="effectSelectorEffect">DualDelay</div>
              <div class="effectSelectorEffect">DualDelay</div>
              <div class="effectSelectorEffect">DualDelay</div>
            </div>

        </div>
      </div>

      </div>

      <table id="sysexMonitorTable">
      </table>
    </div>
  </div>
  <dialog id="confirmDialog">
    <form>
      <p>
        <label id="confirmLabel">
          Are you sure?
        </label>
      </p>
      <div>
        <button formmethod="dialog" value="cancel">No</button>
        <button id="confirmButton" value="ok">Yes</button>
      </div>
    </form>
  </dialog>
  
  <dialog id="infoDialog">
    <form>
      <p>
        <label id="infoLabel">
          Info text goes here
        </label>
      </p>
      <div>
        <button id="infoOKButton" value="ok" hidden>OK</button>
      </div>
    </form>
  </dialog>    

  <dialog id="textInputDialog">
    <form>
      <p>
        <p>
          <label id="textInputLabel">
            Enter some text:
          </label>
        </p>
        <p>
          <textarea id="textInput" rows="4" cols="80"> </textarea>
        </p>
      </p>
      <div>
        <button formmethod="dialog" value="cancel">Cancel</button>
        <button id="textInputConfirmButton" value="ok">Yes</button>
      </div>
    </form>
  </dialog>    

  <script type="module" src="./index.js"></script>
  <!-- For www.waveformer.net <script>includeHTML();</script> -->
</body>
</html>